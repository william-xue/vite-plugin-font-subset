# @fe-fast/vite-plugin-font-subset

> ğŸš€ Viteã€Webpackã€Rollup & Rspack å¯¾å¿œã®ãƒ•ã‚©ãƒ³ãƒˆã‚µãƒ–ã‚»ãƒƒãƒˆåŒ–ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿéš›ã®ä½¿ç”¨æ–‡å­—ã«åŸºã¥ã„ã¦ãƒ•ã‚©ãƒ³ãƒˆã‚’è‡ªå‹•çš„ã«ã‚µãƒ–ã‚»ãƒƒãƒˆåŒ–ã— WOFF2 ã‚’ç”Ÿæˆ

## ğŸŒŸ ãƒãƒ«ãƒãƒ„ãƒ¼ãƒ«å¯¾å¿œ

- âœ… **Vite** - ãƒã‚¤ãƒ†ã‚£ãƒ–å¯¾å¿œã€Chrome DevTools æ¤œè¨¼æ¸ˆã¿
- âœ… **Webpack** - å®Œå…¨å¯¾å¿œã€éæ¨å¥¨è­¦å‘Šãªã—  
- âœ… **Rollup** - å®Œå…¨å¯¾å¿œã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ“ãƒ«ãƒ‰æœ€é©åŒ–
- âœ… **Rspack** - äº’æ›æ€§å¯¾å¿œã€Webpack ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ä½¿ç”¨

## ğŸ“Š ãƒ•ã‚©ãƒ³ãƒˆåœ§ç¸®åŠ¹æœæ¯”è¼ƒ

| ã‚·ãƒŠãƒªã‚ª | å…ƒãƒ•ã‚©ãƒ³ãƒˆ | ã‚µãƒ–ã‚»ãƒƒãƒˆåŒ–å¾Œ | åœ§ç¸®ç‡ | èª­ã¿è¾¼ã¿é€Ÿåº¦å‘ä¸Š |
|---------|------------|----------------|--------|-------------------|
| **ä¸­å›½èªãƒ•ã‚©ãƒ³ãƒˆ** | 10.2 MB | 28.5 KB | **99.7%** | âš¡ï¸ 358å€ |
| **æ—¥æœ¬èªãƒ•ã‚©ãƒ³ãƒˆ** | 8.7 MB | 22.1 KB | **99.7%** | âš¡ï¸ 394å€ |
| **éŸ“å›½èªãƒ•ã‚©ãƒ³ãƒˆ** | 6.8 MB | 18.3 KB | **99.7%** | âš¡ï¸ 372å€ |
| **æ··åˆãƒ•ã‚©ãƒ³ãƒˆ** | 12.4 MB | 31.7 KB | **99.7%** | âš¡ï¸ 391å€ |

> ğŸ’¡ **ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¤ãƒ³ãƒ‘ã‚¯ãƒˆ**ï¼šãƒ•ã‚©ãƒ³ãƒˆå…¨ä½“ã‹ã‚‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ–‡å­—ã®ã¿ã®ã‚µãƒ–ã‚»ãƒƒãƒˆã¸ã€å®¹é‡ãŒ **99.7%** å‰Šæ¸›ï¼

## ğŸ¯ æ¨å¥¨ç”¨é€”

### âœ… å¼·ãæ¨å¥¨
- **ä¼æ¥­ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ** - é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€æ–‡å­—ã‚»ãƒƒãƒˆå›ºå®š
- **è£½å“ç´¹ä»‹ãƒšãƒ¼ã‚¸** - ãƒ†ã‚­ã‚¹ãƒˆç¢ºå®šã€ç©¶æ¥µã®èª­ã¿è¾¼ã¿é€Ÿåº¦è¿½æ±‚
- **H5 ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸** - ãƒ¢ãƒã‚¤ãƒ«ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ã€ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºãŒé‡è¦
- **ç®¡ç†ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** - æ–‡å­—ã‚»ãƒƒãƒˆé™å®šã€æ€§èƒ½å‘ä¸Šæ˜ç¢º
- **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚µã‚¤ãƒˆ** - æŠ€è¡“ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€æ–‡å­—ç›¸å¯¾çš„ã«å›ºå®š

### âŒ éæ¨å¥¨
- **ç´”å‹•çš„ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚µã‚¤ãƒˆ** - è¨˜äº‹ã”ã¨ã«æ–‡å­—ã‚»ãƒƒãƒˆç•°ãªã‚‹
- **UGC ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ** - ãƒ¦ãƒ¼ã‚¶ãƒ¼ç”Ÿæˆã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€æ–‡å­—äºˆæ¸¬ä¸èƒ½
- **ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿** - ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä»»æ„æ–‡å­—å…¥åŠ›

## ğŸŒ CJK å°‚é–€æœ€é©åŒ–

- **ğŸ‡¨ğŸ‡³ ä¸­å›½èª** - 3500+ å¸¸ç”¨æ¼¢å­—å¯¾å¿œã€GB2312ã€GBKã€UTF-8 ã‚«ãƒãƒ¼
- **ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª** - ã²ã‚‰ãŒãªã€ã‚«ã‚¿ã‚«ãƒŠã€å¸¸ç”¨æ¼¢å­—å¯¾å¿œ
- **ğŸ‡°ğŸ‡· éŸ“å›½èª** - ãƒãƒ³ã‚°ãƒ«ã€å¸¸ç”¨æ¼¢å­—çµ„ã¿åˆã‚ã›å¯¾å¿œ

## ç‰¹å¾´

- **è‡ªå‹•æ–‡å­—ã‚»ãƒƒãƒˆã‚¹ã‚­ãƒ£ãƒ³**ï¼šã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰å®Ÿéš›ã«ä½¿ç”¨ã•ã‚Œã‚‹æ–‡å­—ã‚’åé›†ã€ãƒ•ã‚©ãƒ³ãƒˆå…¨ä½“ã‚’å›é¿
- **ãƒ•ã‚©ãƒ³ãƒˆã”ã¨ã‚µãƒ–ã‚»ãƒƒãƒˆåŒ–**ï¼š[`subset-font`](https://github.com/foliojs/subset-font) ã‚’ä½¿ç”¨ã—ã¦ `.woff2` ã‚µãƒ–ã‚»ãƒƒãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ
- **è‡ªå‹• CSS ç”Ÿæˆ**ï¼šãƒ•ã‚©ãƒ³ãƒˆæ‰€åœ¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«çµ±ä¸€ `font.css` ã‚’ç”Ÿæˆã€`@font-face` å®£è¨€ã‚’å«ã‚€
- **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªåˆ¥çµåˆ**ï¼šåŒä¸€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…è¤‡æ•°ãƒ•ã‚©ãƒ³ãƒˆã‚’ä¸€ã¤ã® `font.css` ã«çµåˆã€ç›¸äº’ä¸Šæ›¸ãã‚’å›é¿
- **ã‚ªãƒ—ã‚·ãƒ§ãƒ³è‡ªå‹•æ³¨å…¥**ï¼šãƒ“ãƒ«ãƒ‰æ™‚ã«ç”Ÿæˆ `font.css` ã‚’ HTML ã«è‡ªå‹•æ³¨å…¥ã€æ‰‹å‹•å°å…¥ä¸è¦
- **ãƒ“ãƒ«ãƒ‰æ®µéšã®ã¿å®Ÿè¡Œ**ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆç”Ÿç”£ãƒ“ãƒ«ãƒ‰æ™‚ã®ã¿å®Ÿè¡Œã€é–‹ç™ºé€Ÿåº¦ã«å½±éŸ¿ãªã—

## ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @fe-fast/vite-plugin-font-subset --save-dev
# ã¾ãŸã¯
pnpm add @fe-fast/vite-plugin-font-subset -D
yarn add @fe-fast/vite-plugin-font-subset -D
```

## ä½¿ç”¨æ–¹æ³•

### Vite

```js
// vite.config.js
import { defineConfig } from 'vite'
import fontSubsetPlugin from '@fe-fast/vite-plugin-font-subset'

export default defineConfig({
  plugins: [
    fontSubsetPlugin({
      fonts: [
        {
          src: 'src/fonts/SourceHanSansCN-Medium.otf',
          family: 'Source Han Sans CN',
          weight: 400,
          style: 'normal'
        }
      ],
      scanDirs: ['src/**/*.{vue,js,ts,jsx,tsx,json,scss,less,css}'],
      outputDir: 'subset',
      generateCss: true,
      injectCss: true,
      extraChars: 'â‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨â‘©',
      enabled: true
    })
  ]
})
```

### Webpack

```js
// webpack.config.js
import FontSubsetPlugin from '@fe-fast/vite-plugin-font-subset/webpack'

module.exports = {
  plugins: [
    new FontSubsetPlugin({
      fonts: [
        {
          src: 'src/fonts/SourceHanSansCN-Medium.otf',
          family: 'Source Han Sans CN',
          weight: 400,
          style: 'normal'
        }
      ],
      scanDirs: ['src/**/*.{vue,js,ts,jsx,tsx,json,scss,less,css}'],
      outputDir: 'subset',
      generateCss: true,
      injectCss: true,
      extraChars: 'â‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨â‘©',
      enabled: true
    })
  ]
}
```

### Rollup

```js
// rollup.config.js
import fontSubsetPlugin from '@fe-fast/vite-plugin-font-subset/rollup'

export default {
  plugins: [
    fontSubsetPlugin({
      fonts: [
        {
          src: 'src/fonts/SourceHanSansCN-Medium.otf',
          family: 'Source Han Sans CN',
          weight: 400,
          style: 'normal'
        }
      ],
      scanDirs: ['src/**/*.{vue,js,ts,jsx,tsx,json,scss,less,css}'],
      outputDir: 'subset',
      generateCss: true,
      extraChars: 'â‘ â‘¡â‘¢â‘£â‘¤â‘¥â‘¦â‘§â‘¨â‘©',
      enabled: true
    })
  ]
}
```

## ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ãƒ‡ãƒ¢

ğŸš€ [ãƒ©ã‚¤ãƒ–ãƒ‡ãƒ¢ã‚’è©¦ã™](https://william-xue.github.io/vite-plugin-font-subset/)

å®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ•ã‚©ãƒ³ãƒˆã‚µãƒ–ã‚»ãƒƒãƒˆåŒ–ã®åŠ¹æœã‚’ä½“é¨“ï¼

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT
