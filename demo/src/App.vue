<template>
  <div class="demo-container">
    <header class="header">
      <h1>ğŸ”¤ Vite Font Subset Plugin Demo</h1>
      <p class="subtitle">è‡ªåŠ¨å­—ä½“å­é›†åŒ–æ’ä»¶æ¼”ç¤º</p>
    </header>

    <div class="info-cards">
      <div class="card">
        <div class="card-icon">ğŸ“¦</div>
        <h3>åŸç†è¯´æ˜</h3>
        <p>æ’ä»¶ä¼šæ‰«æé¡¹ç›®ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œæ”¶é›†ä½¿ç”¨çš„å­—ç¬¦ï¼Œç„¶åå°†å®Œæ•´å­—ä½“æ–‡ä»¶è£å‰ªä¸ºåªåŒ…å«è¿™äº›å­—ç¬¦çš„å­é›†ï¼Œå¤§å¹…å‡å°æ–‡ä»¶ä½“ç§¯ã€‚</p>
      </div>

      <div class="card">
        <div class="card-icon">âš¡</div>
        <h3>æ€§èƒ½ä¼˜åŒ–</h3>
        <p>æ„å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆ WOFF2 æ ¼å¼çš„å­—ä½“å­é›†ï¼Œå¹¶æ³¨å…¥åˆ° HTML ä¸­ã€‚å¼€å‘æ—¶åœ¨æºç›®å½•ç”Ÿæˆ CSS æ–‡ä»¶ï¼Œæ–¹ä¾¿è°ƒè¯•ã€‚</p>
      </div>

      <div class="card">
        <div class="card-icon">ğŸ¨</div>
        <h3>ä½¿ç”¨æ–¹æ³•</h3>
        <p>åœ¨ vite.config.js ä¸­é…ç½®å­—ä½“è·¯å¾„å’Œé€‰é¡¹ï¼Œè¿è¡Œ <code>npm run build</code> å³å¯çœ‹åˆ°æ•ˆæœã€‚</p>
      </div>
    </div>

    <div class="font-demo">
      <h2>å­—ä½“æ•ˆæœå±•ç¤º</h2>
      <div class="demo-text custom-font">
        <p class="large">æ€æºé»‘ä½“æ¼”ç¤ºæ–‡æœ¬</p>
        <p class="medium">è¿™æ˜¯ä¸€æ®µä½¿ç”¨è‡ªå®šä¹‰å­—ä½“çš„ä¸­æ–‡æ–‡æœ¬</p>
        <p class="small">abcdefghijklmnopqrstuvwxyz 0123456789</p>
        <p class="small">ABCDEFGHIJKLMNOPQRSTUVWXYZ !@#$%^&*()</p>
      </div>
    </div>

    <div class="instructions">
      <h2>ğŸ“– å¿«é€Ÿå¼€å§‹</h2>
      <div class="steps">
        <div class="step">
          <span class="step-number">1</span>
          <div class="step-content">
            <h4>å®‰è£…ä¾èµ–</h4>
            <code>npm install</code>
          </div>
        </div>
        <div class="step">
          <span class="step-number">2</span>
          <div class="step-content">
            <h4>å¼€å‘æ¨¡å¼</h4>
            <code>npm run dev</code>
            <p class="hint">å¼€å‘æ—¶ä¼šåœ¨ src/fonts/subset ç›®å½•ç”Ÿæˆå­—ä½“å­é›†å’Œ font.css</p>
          </div>
        </div>
        <div class="step">
          <span class="step-number">3</span>
          <div class="step-content">
            <h4>ç”Ÿäº§æ„å»º</h4>
            <code>npm run build</code>
            <p class="hint">æ„å»ºåå­—ä½“å’Œ CSS ä¼šè‡ªåŠ¨æ³¨å…¥åˆ° dist ç›®å½•</p>
          </div>
        </div>
        <div class="step">
          <span class="step-number">4</span>
          <div class="step-content">
            <h4>é¢„è§ˆæ•ˆæœ</h4>
            <code>npm run preview</code>
            <p class="hint">åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹æ„å»ºåçš„æ•ˆæœ</p>
          </div>
        </div>
      </div>
    </div>

    <div class="config-example">
      <h2>âš™ï¸ é…ç½®ç¤ºä¾‹</h2>
      <pre><code>fontSubsetPlugin({
  fonts: [
    {
      src: 'src/fonts/SourceHanSansCN-Regular.otf',
      family: 'Source Han Sans CN',
      weight: 400,
      style: 'normal'
    }
  ],
  scanDirs: ['src/**/*.{vue,js,ts,jsx,tsx,html}'],
  generateCss: true,
  injectCss: true
})</code></pre>
    </div>

    <footer class="footer">
      <p>
        æŸ¥çœ‹
        <a href="https://github.com/william-xue/vite-plugin-font-subset" target="_blank">
          GitHub ä»“åº“
        </a>
        äº†è§£æ›´å¤š
      </p>
    </footer>
  </div>
</template>

<script setup>
import { onMounted } from 'vue'

onMounted(() => {
  console.log('ğŸ”¤ Font Subset Plugin Demo å·²åŠ è½½')
  console.log('ğŸ’¡ æç¤ºï¼šè¿è¡Œ npm run build æŸ¥çœ‹å­—ä½“å­é›†åŒ–æ•ˆæœ')
})
</script>

<style scoped>
.demo-container {
  color: white;
}

.header {
  text-align: center;
  margin-bottom: 60px;
  animation: fadeInDown 0.6s ease-out;
}

.header h1 {
  font-size: 3rem;
  margin-bottom: 10px;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

.subtitle {
  font-size: 1.2rem;
  opacity: 0.9;
}

.info-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 30px;
  margin-bottom: 60px;
  animation: fadeInUp 0.6s ease-out 0.2s backwards;
}

.card {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 30px;
  transition: transform 0.3s, box-shadow 0.3s;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.card:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
}

.card-icon {
  font-size: 3rem;
  margin-bottom: 15px;
}

.card h3 {
  font-size: 1.5rem;
  margin-bottom: 15px;
}

.card p {
  line-height: 1.6;
  opacity: 0.9;
}

.font-demo {
  background: rgba(255, 255, 255, 0.95);
  border-radius: 20px;
  padding: 40px;
  margin-bottom: 60px;
  animation: fadeInUp 0.6s ease-out 0.4s backwards;
}

.font-demo h2 {
  color: #667eea;
  margin-bottom: 30px;
  text-align: center;
}

.demo-text {
  text-align: center;
}

.custom-font {
  font-family: 'Source Han Sans CN', sans-serif;
  color: #333;
}

.large {
  font-size: 3rem;
  font-weight: bold;
  margin-bottom: 20px;
  color: #667eea;
}

.medium {
  font-size: 1.8rem;
  margin-bottom: 20px;
  color: #764ba2;
}

.small {
  font-size: 1.2rem;
  margin-bottom: 10px;
  color: #666;
}

.instructions {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 40px;
  margin-bottom: 40px;
  animation: fadeInUp 0.6s ease-out 0.6s backwards;
}

.instructions h2 {
  margin-bottom: 30px;
  text-align: center;
}

.steps {
  display: grid;
  gap: 20px;
}

.step {
  display: flex;
  align-items: flex-start;
  gap: 20px;
  background: rgba(255, 255, 255, 0.05);
  padding: 20px;
  border-radius: 15px;
  border-left: 4px solid rgba(255, 255, 255, 0.3);
}

.step-number {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  font-size: 1.5rem;
  font-weight: bold;
  flex-shrink: 0;
}

.step-content {
  flex: 1;
}

.step-content h4 {
  margin-bottom: 10px;
  font-size: 1.2rem;
}

.step-content code {
  display: inline-block;
  background: rgba(0, 0, 0, 0.3);
  padding: 8px 16px;
  border-radius: 8px;
  font-family: 'Monaco', 'Courier New', monospace;
  margin: 10px 0;
}

.hint {
  font-size: 0.9rem;
  opacity: 0.8;
  margin-top: 8px;
}

.config-example {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  border-radius: 20px;
  padding: 40px;
  margin-bottom: 40px;
  animation: fadeInUp 0.6s ease-out 0.8s backwards;
}

.config-example h2 {
  margin-bottom: 20px;
  text-align: center;
}

.config-example pre {
  background: rgba(0, 0, 0, 0.3);
  padding: 25px;
  border-radius: 15px;
  overflow-x: auto;
}

.config-example code {
  font-family: 'Monaco', 'Courier New', monospace;
  font-size: 0.95rem;
  line-height: 1.6;
  color: #fff;
}

.footer {
  text-align: center;
  padding: 30px;
  opacity: 0.8;
  animation: fadeIn 0.6s ease-out 1s backwards;
}

.footer a {
  color: white;
  text-decoration: underline;
  font-weight: bold;
  transition: opacity 0.3s;
}

.footer a:hover {
  opacity: 0.7;
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@media (max-width: 768px) {
  .header h1 {
    font-size: 2rem;
  }

  .info-cards {
    grid-template-columns: 1fr;
  }

  .large {
    font-size: 2rem;
  }

  .medium {
    font-size: 1.3rem;
  }
}
</style>
